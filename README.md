# Приложение "Библиотека" на Django v4 c регистрацией пользователей (Django AllAuth)

* Первая версия приложения - https://github.com/AlenaPliusnina/Django_books_library_v1
* Вторая версия приложения - https://github.com/AlenaPliusnina/Django_books_library_v2
* Третья версия приложения - https://github.com/AlenaPliusnina/Django_books_library_v3

      Django, Sqlite3, Bootstrap, Django AllAuth
      
Описание:

      Приложение — личная библиотека. Это простая система, в которой храниться и отображаться информация о книгах, 
      которые в нее добавлены, а также есть возможность эти данные создавать, удалять и редактировать.

      Новое в v4:
         - добавлено создание пользователей в качестве моделей, 
           для которых используются встроенные модели Django (django.contrib.auth.models.User), 
           а их профили создаются либо отдельной  формой, либо при помощи allauth с авторизацией через github

Разворачиваем проект локально:

1. Создайте виртуальное окружение: 

       python3 -m venv env
       
2. Активируйте виртуальное окружение: 

       source env/bin/activate
       
3. Чтобы установить требуемые зависимости выполните команду: 

       pip install -r requirements.txt
   
   Если у вас macOS и при установке зависимостей возникает ошибка:  error: command 'gcc' failed with exit status 1.   
   Попробуйте команду: env LDFLAGS="-I/usr/local/opt/openssl/include -L/usr/local/opt/openssl/lib" pip install psycopg2==2.8.4
       
4. Чтбы запустить сервер введите команду: 

       python manage.py runserver

5. Для входа в администравтивную панель проекта создайте суперпользователя при помощи команды: 

       python manage.py createsuperuser


Список роутов проекта:

1. При переходе по адресу http://127.0.0.1:8000/ вам будет предложено зарегистрироваться или войти на сайт.
   
   ![Вход на сайт](/screenshots/screen_1.png)
   
   - Если вы выберете зарегистрироваться (http://127.0.0.1:8000/accounts/signup/) перед вами появится форма регисатрации пользователя
   
   ![Регистрация](/screenshots/screen_2.png)
   
   При регистрации для создания профиля также запрашивается ваш возраст (http://127.0.0.1:8000/profile-create/)
   
   ![Регистрация](/screenshots/screen_3.png)
   
   - Если вы уже зарегестрированы на сайте, можете воспользоваться формой входа (http://127.0.0.1:8000/accounts/login/)
   
   ![Вход](/screenshots/screen_5.png)
   
   - Вход также можно осуществить через аккаунт на GitHub (реализовано при помощи Django AllAuth, http://127.0.0.1:8000/accounts/login/)
   
   ![AllAuth](/screenshots/screen_7.png)
   
   - При последующих входах на сайт приложение запомниает вас и на главной странице появляется приветсвие (http://127.0.0.1:8000/):
   
   |           Приветствие для user_1          | Приветствие для пользователя вошедшего черз GitHub аккаунт|
   |-------------------------------------------|-----------------------------------------------------------|
   | ![Приветствие](/screenshots/screen_6.png) |         ![Приветствие](/screenshots/screen_8.png)         |
   
   - Для выхода из приложения нажмите на пункт верхней панели "Выйти" в правом верхнм углу (http://127.0.0.1:8000/accounts/logout/):
   
   ![Выход](/screenshots/screen_4.png)
   
2. Для пользователей не обладающих правами суперюзера в меню (http://127.0.0.1:8000/links/) доступны следующие пункты:

   ![Меню для обычных пользователей](/screenshots/screen_9.png)
   
   - Список доступных книг (http://127.0.0.1:8000/books_list_index/)
   
   ![писок доступных книг для обычных пользователей](/screenshots/screen_10.png)
   
   - Список доступных издательств (http://127.0.0.1:8000/publishers/)
   
   ![Список доступных издателств](/screenshots/screen_11.png)
   
   - Список авторов (http://127.0.0.1:8000/authors/)
   
   ![Список авторов](/screenshots/screen_12.png)
   
   - Список друзей (http://127.0.0.1:8000/friends/)
   
   ![Список авторов](/screenshots/screen_13.png)
  
3. При входе под суперюзером будут доступны дополнительные страницы создания и редактирования авторов и книг, а также добавления и редактирования читателей.
   
   |     Вход от имени суперпользователя       |         Приветствие для суперпользователя        |
   |-------------------------------------------|--------------------------------------------------|
   | ![Вход admin](/screenshots/screen_14.png) | ![Преветствие admin](/screenshots/screen_15.png) |
   
   - Пункты меню для суперюзера (http://127.0.0.1:8000/links/)
   
   ![Пункты меню для суперюзера](/screenshots/screen_16.png)
   
   - Административная панель перенаправит по адресу http://127.0.0.1:8000/admin/ в панель управления Django
   
   - Создать автора (http://127.0.0.1:8000/author/create/)
   
   ![Создать автора](/screenshots/screen_17.png)
   
   - Создать несколько авторов (http://127.0.0.1:8000/author/create_many/) 
   
   ![Создать несколько авторов](/screenshots/screen_18.png)
   
   - Создать несколько авторов и их книг (http://127.0.0.1:8000/author_book/create_many/)
   
   ![Создать несколько авторов и книг](/screenshots/screen_19.png)
   
   - Добавить друга (http://127.0.0.1:8000/friends/create/)
   
   ![Создать несколько авторов и книг](/screenshots/screen_20.png)
   
   - Список доступных книг (http://127.0.0.1:8000/books_list_index/). Для администартора также доступно изменение колличества экзампеляров (кнопки увеличить/       уменьшить количество)
   
   ![Список доступных книг](/screenshots/screen_21.png)
   
   - Список друзей (http://127.0.0.1:8000/friends/). Администратор может редактировать информацию на данной странице.
   
   ![Список друзей](/screenshots/screen_22.png)
   
4. В случае если пользователь не обладающий правами суперпользователя переходит по адресу со страницей которая должна быть доступна только суперюзеру, перед ним появится следующее сообщение:

   ![Список друзей](/screenshots/screen_23.png)
